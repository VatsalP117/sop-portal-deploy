(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{4287:function(e,t,a){Promise.resolve().then(a.bind(a,2675))},2675:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var s=a(7437),n=a(1270),r=a(2670),l=a(248),i=a(5890),c=a(7307),o=a(5754),d=a(1657),u=a(553),m=a(9259),x=a(2265),f=a(9108),h=a(7805),p=a(4719);function j(e){let{className:t,classNames:a,showOutsideDays:n=!0,...r}=e;return(0,s.jsx)(p._W,{showOutsideDays:n,className:(0,d.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,d.cn)((0,o.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,d.cn)((0,o.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{...t}=e;return(0,s.jsx)(f.Z,{className:"h-4 w-4"})},IconRight:e=>{let{...t}=e;return(0,s.jsx)(h.Z,{className:"h-4 w-4"})}},...r})}j.displayName="Calendar";var y=a(7474),g=a(7907),v=a(5216),b=a(9323);a(3367);var N=a(541);a(180);var w=a(4848);function S(e){let t="dark"==(0,w.F)().resolvedTheme?N.V8:N.hp,a=(0,N.$c)({initialContent:e.initial});return(0,s.jsx)(N.L6,{editor:a,editable:e.editable,className:"-mt-3",theme:t,onChange:()=>{e.setDescription(a.document)}})}var _=a(5179),C=a(1478),I=a(6288),k=a(3930),F=a(7390);let z=[{label:"Open",value:"Open"},{label:"Closed",value:"Closed"},{label:"Completed",value:"Completed"}],D=l.z.object({project_title:l.z.string().min(5,{message:"Project Title must be at least 5 characters."}),status:l.z.string({required_error:"A status is required."}),date:l.z.date({required_error:"A date is required."}),minStudents:l.z.number().min(1,{message:"Minimum students must be at least 1"}),maxStudents:l.z.number().min(1,{message:"Maximum students must be at least 1"})});var P=(0,F.Z)(function(e){console.log(e);let t=(0,g.useSearchParams)().get("projectId"),[a,l]=(0,x.useState)(""),[f,h]=(0,x.useState)(null),p=(0,g.useRouter)(),[N,w]=(0,x.useState)([]),[F,P]=(0,x.useState)([]);(0,x.useEffect)(()=>{"new"!==t?fetch("".concat("","/api/faculty/getprojectdescription"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectid:t}),withCredentials:!0}).then(e=>e.json()).then(t=>{T.reset({project_title:t.project_title,status:t.status,date:new Date(t.date),gpsrn:e.user.id,minStudents:t.minStudents,maxStudents:t.maxStudents}),w(t.tags||[]),P(t.description),h(t)}):T.reset({minStudents:1,maxStudents:1})},[]),(0,x.useEffect)(()=>{l(e.user.id)},[]);let O=e=>{if(N.includes(e)){let t=[...N],a=t.indexOf(e);t.splice(a,1),w(t)}else w(t=>[...t,e])},A=e=>!!N.includes(e),T=(0,r.cI)({resolver:(0,n.F)(D),mode:"onChange"});async function J(a){if("new"===t)try{let t=await fetch("".concat("","/api/faculty/createproject"),{method:"POST",headers:{"Content-Type":"application/json"},witthCredentials:!0,body:JSON.stringify({...a,date:a.date.toDateString(),tags:N,description:F,gpsrn:e.user.id})});200===t.status?((0,I.A)("Project added successfully"),p.push("/faculty")):(0,I.A)("Failed to add project")}catch(e){console.log(e),(0,I.A)("unable to connect to server")}else try{let s=await fetch("".concat("","/api/faculty/editproject"),{method:"POST",headers:{"Content-Type":"application/json"},witthCredentials:!0,body:JSON.stringify({...a,date:a.date.toDateString(),tags:N,description:F,projectid:t,gpsrn:e.user.id})});200===s.status?((0,I.A)("Project Updated Successfully"),p.push("/faculty")):(0,I.A)("Failed to update project")}catch(e){console.log(e),(0,I.A)("unable to connect to server")}}return(0,s.jsxs)("div",{className:"container pt-12 flex flex-col",children:[(0,s.jsx)("h1",{className:"text-5xl font-bold mb-8",children:"Project Details"}),(0,s.jsx)(y.l0,{...T,children:(0,s.jsxs)("form",{onSubmit:T.handleSubmit(J),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-row gap-20 items-center",children:[(0,s.jsx)(y.Wi,{control:T.control,name:"project_title",render:e=>{let{field:t}=e;return(0,s.jsxs)(y.xJ,{id:"project_title",children:[(0,s.jsx)(y.lX,{children:"Project Title"}),(0,s.jsx)(y.NI,{children:(0,s.jsx)(_.I,{...t,defaultValue:null==f?void 0:f.project_title})}),(0,s.jsx)(y.zG,{})]})}}),(0,s.jsx)(y.Wi,{control:T.control,name:"status",render:e=>{var t;let{field:a}=e;return(0,s.jsxs)(y.xJ,{className:"flex flex-col h-full mt-2 ml-3 ",children:[(0,s.jsx)(y.lX,{children:"Status"}),(0,s.jsxs)(v.J2,{children:[(0,s.jsx)(v.xo,{asChild:!0,children:(0,s.jsx)(y.NI,{children:(0,s.jsxs)(o.z,{variant:"outline",role:"combobox",className:(0,d.cn)("w-[200px] justify-between",!a.value&&"text-muted-foreground"),children:[a.value?null===(t=z.find(e=>e.value===a.value))||void 0===t?void 0:t.label:"Select status",(0,s.jsx)(u.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),(0,s.jsx)(v.yk,{className:"w-[200px] p-0",children:(0,s.jsxs)(b.mY,{children:[(0,s.jsx)(b.sZ,{placeholder:"Search status..."}),(0,s.jsx)(b.rb,{children:"Not found."}),(0,s.jsx)(b.e8,{children:z.map(e=>(0,s.jsxs)(b.di,{value:e.label,onSelect:()=>{T.setValue("status",e.value)},children:[(0,s.jsx)(m.Z,{className:(0,d.cn)("mr-2 h-4 w-4",e.value===a.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})})]}),(0,s.jsx)(y.zG,{})]})}})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-16 items-center",children:[(0,s.jsx)(y.Wi,{control:T.control,name:"date",render:e=>{let{field:t}=e;return(0,s.jsxs)(y.xJ,{className:"flex flex-col",children:[(0,s.jsx)(y.lX,{children:"Date"}),(0,s.jsxs)(v.J2,{children:[(0,s.jsx)(v.xo,{asChild:!0,children:(0,s.jsx)(y.NI,{children:(0,s.jsxs)(o.z,{variant:"outline",className:(0,d.cn)("w-[240px] pl-3 text-left font-normal",!t.value&&"text-muted-foreground"),children:[t.value?(0,i.WU)(t.value,"PPP"):(0,s.jsx)("span",{children:"Date"}),(0,s.jsx)(c.Z,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,s.jsx)(v.yk,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(j,{mode:"single",selected:t.value,onSelect:t.onChange,initialFocus:!0})})]}),(0,s.jsx)(y.zG,{})]})}}),(0,s.jsx)(y.Wi,{control:T.control,name:"minStudents",render:e=>{let{field:t}=e;return(0,s.jsxs)(y.xJ,{children:[(0,s.jsx)(y.lX,{children:"Minimum Students"}),(0,s.jsx)(y.NI,{children:(0,s.jsx)(_.I,{type:"number",placeholder:"Minimum Students",...t,onChange:e=>t.onChange(e.target.valueAsNumber),defaultValue:1})}),(0,s.jsx)(y.zG,{})]})}}),(0,s.jsx)(y.Wi,{control:T.control,name:"maxStudents",render:e=>{let{field:t}=e;return(0,s.jsxs)(y.xJ,{children:[(0,s.jsx)(y.lX,{children:"Maximum Students"}),(0,s.jsx)(y.NI,{children:(0,s.jsx)(_.I,{type:"number",placeholder:"Maximum Students",...t,onChange:e=>t.onChange(e.target.valueAsNumber),defaultValue:1})}),(0,s.jsx)(y.zG,{})]})}})]}),(0,s.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,s.jsxs)(k.h_,{children:[(0,s.jsx)(k.$F,{asChild:!0,children:(0,s.jsx)(o.z,{variant:"outline",className:"flex gap-2 font-bold",children:(0,s.jsx)("span",{children:"Select Tags"})})}),(0,s.jsxs)(k.AW,{className:"w-56",onCloseAutoFocus:e=>e.preventDefault(),children:[(0,s.jsx)(k.Ju,{children:"Tags"}),(0,s.jsx)(k.VD,{}),[{key:"Software Development",value:"Software Development"},{key:"Machine Learning",value:"Machine Learning"},{key:"Systems",value:"Systems"},{key:"IOT",value:"IOT"},{key:"Artificial Intelligence",value:"Artificial Intelligence"},{key:"Miscellaneous",value:"Miscellaneous"}].map((e,t)=>(0,s.jsx)(k.bO,{onSelect:e=>e.preventDefault(),checked:A(e.key),onCheckedChange:()=>O(e.key),children:e.value},t))]})]}),(0,s.jsx)("div",{className:"flex flex-row gap-2",children:N.map(e=>(0,s.jsx)(C.C,{children:e}))})]}),(0,s.jsx)("h3",{children:"Project Description"}),(0,s.jsxs)(C.C,{variant:"outline",children:["Faculty GPSRN : ",a]}),(f||"new"===t)&&(0,s.jsx)(S,{editable:!0,setDescription:P}),(0,s.jsx)(o.z,{type:"submit",children:"Submit"})]})})]})},"faculty")},7474:function(e,t,a){"use strict";a.d(t,{NI:function(){return p},Wi:function(){return u},l0:function(){return o},lX:function(){return h},xJ:function(){return f},zG:function(){return j}});var s=a(7437),n=a(2265),r=a(9143),l=a(2670),i=a(1657),c=a(9842);let o=l.RV,d=n.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(d.Provider,{value:{name:t.name},children:(0,s.jsx)(l.Qr,{...t})})},m=()=>{let e=n.useContext(d),t=n.useContext(x),{getFieldState:a,formState:s}=(0,l.Gc)(),r=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...r}},x=n.createContext({}),f=n.forwardRef((e,t)=>{let{className:a,...r}=e,l=n.useId();return(0,s.jsx)(x.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...r})})});f.displayName="FormItem";let h=n.forwardRef((e,t)=>{let{className:a,...n}=e,{error:r,formItemId:l}=m();return(0,s.jsx)(c._,{ref:t,className:(0,i.cn)(r&&"text-destructive",a),htmlFor:l,...n})});h.displayName="FormLabel";let p=n.forwardRef((e,t)=>{let{...a}=e,{error:n,formItemId:l,formDescriptionId:i,formMessageId:c}=m();return(0,s.jsx)(r.g7,{ref:t,id:l,"aria-describedby":n?"".concat(i," ").concat(c):"".concat(i),"aria-invalid":!!n,...a})});p.displayName="FormControl",n.forwardRef((e,t)=>{let{className:a,...n}=e,{formDescriptionId:r}=m();return(0,s.jsx)("p",{ref:t,id:r,className:(0,i.cn)("text-sm text-muted-foreground",a),...n})}).displayName="FormDescription";let j=n.forwardRef((e,t)=>{let{className:a,children:n,...r}=e,{error:l,formMessageId:c}=m(),o=l?String(null==l?void 0:l.message):n;return o?(0,s.jsx)("p",{ref:t,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",a),...r,children:o}):null});j.displayName="FormMessage"},9842:function(e,t,a){"use strict";a.d(t,{_:function(){return o}});var s=a(7437),n=a(2265),r=a(4602),l=a(7742),i=a(1657);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.f,{ref:t,className:(0,i.cn)(c(),a),...n})});o.displayName=r.f.displayName}},function(e){e.O(0,[900,572,950,902,442,363,49,794,831,288,830,137,766,399,805,971,69,744],function(){return e(e.s=4287)}),_N_E=e.O()}]);